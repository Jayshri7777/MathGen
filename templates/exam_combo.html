{% extends "base.html" %}
{% block content %}

<style>
.exam-container {
    max-width: 640px;
    margin: 50px auto;
    padding: 20px;
}

.exam-card {
    background: rgba(255, 255, 255, 0.65);
    border-radius: 20px;
    padding: 32px;
    box-shadow: 0 14px 30px rgba(0,0,0,0.12);
}

.exam-title {
    text-align: center;
    font-size: 26px;
    font-weight: 700;
    color: #4b1e1e;
    margin-bottom: 6px;
}

.exam-subtitle {
    text-align: center;
    font-size: 14px;
    color: #7a4a4a;
    margin-bottom: 28px;
}

.form-group {
    margin-bottom: 22px;
}

.form-group label {
    display: block;
    font-weight: 600;
    margin-bottom: 6px;
    color: #5a1f1f;
}

.pretty-select {
    width: 100%;
    padding: 12px 14px;
    border-radius: 12px;
    border: 1px solid #d8a79b;
    font-size: 14px;
}

.inline-group {
    display: flex;
    gap: 12px;
}

.inline-group > div {
    flex: 1;
}

.checkbox-row {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-top: 10px;
    font-weight: 600;
    color: #5a1f1f;
}

.generate-btn {
    margin-top: 32px;
    display: flex;
    justify-content: center;
}

.generate-btn button {
    background: linear-gradient(135deg, #7a1f2b, #a83246);
    border: none;
    color: white;
    padding: 14px 44px;
    font-size: 16px;
    font-weight: 600;
    border-radius: 999px;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(122, 31, 43, 0.35);
}

.generate-btn button:hover {
    opacity: 0.95;
}
</style>

<div class="exam-container">
    <div class="exam-card">

        <h2 class="exam-title">Exam Papers Generator üìù</h2>
        <p class="exam-subtitle">
            Generate full-syllabus mock or past exam papers instantly
        </p>

        <form method="POST" action="/generate-exam-combo">

            <!-- Grade + Board -->
            <div class="inline-group">
                <div class="form-group">
                    <label>Grade</label>
                    <select name="grade" class="pretty-select" required>
                        <option value="">Select</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="10-12">10‚Äì11‚Äì12 (Full Syllabus)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Board</label>
                    <select name="board" class="pretty-select" required>
                        <option value="">Select</option>
                        <option value="CBSE">CBSE</option>
                        <option value="ICSE">ICSE</option>
                        <option value="CBSE-ICSE">CBSE + ICSE (Combined)</option>
                    </select>
                </div>
            </div>

            <!-- Paper Type -->
            <div class="form-group">
                <label>Paper Type</label>
                <select
                    name="paper_type"
                    id="paperType"
                    class="pretty-select"
                    required
                    onchange="toggleYear()"
                >
                    <option value="">Select</option>
                    <option value="past">Past Paper</option>
                    <option value="mock">Mock Paper</option>
                </select>
            </div>

            <!-- Year -->
            <div class="form-group" id="yearBlock" style="display:none;">
                <label>Year</label>
                <select name="year" class="pretty-select">
                    <option value="2019">2019</option>
                    <option value="2020">2020</option>
                    <option value="2021">2021</option>
                    <option value="2022">2022</option>
                    <option value="2023">2023</option>
                </select>
            </div>

            <!-- Solutions -->
            <div class="checkbox-row">
                <input type="checkbox" name="include_answers" value="1">
                Include Solutions
            </div>

            <div class="generate-btn">
                <button type="submit">‚ú® Generate Exam Paper</button>
            </div>

        </form>
    </div>
</div>

<script>
function toggleYear() {
    const type = document.getElementById("paperType").value;
    document.getElementById("yearBlock").style.display =
        type === "past" ? "block" : "none";
}
</script>

{% endblock %}
